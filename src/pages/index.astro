---
import Layout from '../layouts/Layout.astro';
import Navbar from '../components/Navbar.astro';
import Footer from '../components/Footer.astro';
import Hero from '../components/Hero.astro';
import SectionTitle from '../components/SectionTitle.astro';
import ServiceCard from '../components/ServiceCard.astro';
import ProductCard from '../components/ProductCard.astro';
import Toast from '../components/Toast.astro';

import { getCollection } from 'astro:content';

// Obtener contenido
const services = await getCollection('services');
const products = (await getCollection('products')).slice(0, 3); // Solo 3 productos destacados
---

<Layout 
  title="Taller Industrial Brenes - Portones, Estructuras Met√°licas y Soldadura"
  description="M√°s de 20 a√±os fabricando portones, estructuras met√°licas y servicios de soldadura en Costa Rica. Calidad garantizada y negocio 100% nacional."
>
  <Navbar />
  
  <main>
    <Hero />
    
    <!-- ¬øPor qu√© elegirnos? -->
    <section class="py-20 bg-gray-50">
      <div class="container mx-auto px-4">
        <SectionTitle 
          title="¬øPor qu√© Elegirnos?" 
          subtitle="Razones que nos convierten en la mejor opci√≥n para sus proyectos"
        />
        
        <div class="grid md:grid-cols-3 gap-8">
          <ServiceCard 
            title="Negocio Nacional"
            description="Empresa 100% costarricense, comprometida con el desarrollo local y el apoyo a la econom√≠a nacional. Conocemos las necesidades espec√≠ficas del mercado costarricense."
            icon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAAAsTAAALEwEAmpwYAAAFW0lEQVR4nO2d229URRzHfwKiosYrKniJL774WhNR6ZlSUIFWdqa6Rn0xMQpeCP4LPvqA1GIw8uojUTDtzFKMoV5iQrRCafckBm3E0nDpOXtmTtGHQuyYWSox4dp0zv5mdueTfJNNds/Jfn/f3Tlzzp79DUAgEAgEAoFAIBAIOMRT7MB9ERPPEiq2Eip2RYx/QxgfJVSMEyYyQsVMXRcej5vn6q+hYpfZxmy7ulxZju3DG9q6+5cRKvojynsJ5UcJ47OECb0w8Vmzr4iKHWbfq8p7bsH26RxrKG8jTOwmjOcLL/g1A8kjKj4nPXwdgL4BWpX16ys3EVp5J2L89+KLfnlFjP9GqHjbvBdoFcwQEFHxfkTFJFbhLwmC8hMR49uafnjqYLwrYvwP7IKTKwYhJjtK4kVoNp7e9NXK+rjrQJHJ9Q1NA8+U+x+BZiBiA5vq00QHCkvmJTMhqLwEvkLI0BJCxYd2ppICK4RZQkXf4+U9S8EnVpUH744Y/wG/gMKWvl/dxe8CHyBl/kBExYgDRdOWvw1xZ3ngQXAZUtr/aH1ujV4sUYjMDC7qGXgMXCRJ/l6ZyPx4KnPdzEqkmqzVag+DSyRJcnua5Uewi5M2LoQxKeWd4AJa6xuTLD+AXZS00cryg8e0xr+Ekch8J3oxJNo34WPU4teUej7J1GzLBpCp2aks70Ip/snp6eWpVKewi5BiK1NnTp89e3/DA0gztQ/dvHRDSaa+bGjxEyk7sU2nrkmp5xpSfK314kSqUXTD0i0lMj9qalN4AIlSW7DNpo6qJqffLH7OL9UkttHUUSUyP2FqVFgASaZewzaZOq6pmnqlyAAOYRtMXVeW/1xM8ZV6At2c9ER5/qT1AGKA3TGADoLr0WdWi68BFscAZxwwpn1QFSAZAlhiLYAxgDXYpmLPNAbQYS2AGGAHtqHYP31kLYAqwLADhrRn+slK8UcAbo0BzjtgSHum81WA22x8+jsdMKN9lDl2LjiAGGAbtpHYU1UBttr4BvRhG4k9VRWg10YAAttI7K8GbARQdcCI9lHV+inUAokB/sQ2EnuqKsBxGwHUsI3EnqoKkNoIYAbbSOyvZkIA4H8AYQgC3CEoHIQB8SAcpqGAOw0NJ2KAfiIWLkUA4qWIcDEO0C/GhcvRgHg5eu4HmXPYZmL/dG4YYBnYwPy85oAh7ZOqAIesFH8ugPCjPMxb260FYG6xcMCQ9kzt1gLQAItigFMOmNKe6LS5mQ1sYm63c8CY9kFVgE/BNuHm3Bz35tx6COH2dH0tJVL9CEUxVVOvYhtMHVdNqZcLCyD8RSm/qhKZT2it7d0VfTmmpHwL22jqrt6AotFaL0qz/BcHzGqXlMh8pCF/UzWEP2rnl0qpdQ0p/sUQMrUX3bR0Q0mWfwFIzTpOYptPW7VZh8H0R2j5djW1fCNgkkjV18IB9IIjLcsGsYuRNlpZflBrvdSlpn2HW+aTL9VolmV3gEtMTf21olXaVqZp+hC4SGjc6gDN2ro4orzqfOvi/zCNrgkV3zXRJ/9bUtrnRqPWebWvZ+IDQsU/2AUkC2xf37Z5uLgmTEUTlSov+LqAQ0ezLGfSzvav8G0Jk/bSoFsNum3QzkRnxPiv2AUmVxIV4xEVG6CZIa8P3VxfmpDxCYeGm4l2Jt4z7w1aBbMuSzvjW1DPG6g4FlG+2bs1YgpZypCKvoiJtPDxnXIVljK82ip7PZWNhPLtERNHrExhzT4oP1zfJxUbmn61PJuQ7v57O0qVtRHj70aMf0Io/7p+lm2WrqW8dnE52wuPzQF0ZO41O802Ztu1dO892D4CgUAgEAgEAoFAAP7Hv1NE0n8SNBkfAAAAAElFTkSuQmCC"
            delay={0}
          />
          
          <ServiceCard 
            title="Calidad Garantizada"
            description="Utilizamos materiales de primera calidad y t√©cnicas especializadas. Cada proyecto pasa por rigurosos controles de calidad para garantizar durabilidad y resistencia excepcionales."
            icon="https://zjpgpagdnpmfgmesglvv.supabase.co/storage/v1/object/public/images/CalidadAzulChechAmarillo-Icono.svg"
            delay={0.2}
          />
          
          <ServiceCard 
            title="M√°s de 20 A√±os de Trayectoria"
            description="Con m√°s de dos d√©cadas en el mercado, hemos perfeccionado nuestras t√©cnicas y construido una s√≥lida reputaci√≥n. Miles de clientes satisfechos avalan nuestro trabajo."
            icon="https://zjpgpagdnpmfgmesglvv.supabase.co/storage/v1/object/public/images/TrofeoFondoRojo-Icono.svg"
            delay={0.4}
          />
        </div>
      </div>
    </section>
    
    <!-- Nuestros Servicios -->
    <section class="py-20">
      <div class="container mx-auto px-4">
        <SectionTitle title="Nuestros Servicios" />
        
        <div class="grid md:grid-cols-3 gap-8">
          {services.map((service, index) => (
            <ServiceCard 
              title={service.data.title}
              description={service.data.description}
              icon={service.data.icon || 'üîß'}
              delay={index * 0.2}
            />
          ))}
        </div>
        
        <div class="text-center mt-10">
          <a href="/servicios" class="inline-flex items-center gap-3 bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 text-white font-bold text-lg px-10 py-4 rounded-full shadow-xl hover:shadow-primary-500/25 transform hover:scale-105 transition-all duration-300 border border-primary-400/20">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
            Ver Todos los Servicios
            <svg class="w-4 h-4 ml-1 transition-transform group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
            </svg>
          </a>
        </div>
      </div>
    </section>
    
    <!-- Galer√≠a Destacada -->
    <section class="py-20 bg-gray-50">
      <div class="container mx-auto px-4">
        <SectionTitle 
          title="Galer√≠a Destacada" 
          subtitle="Algunos de nuestros proyectos m√°s destacados"
        />
        
        <div class="grid md:grid-cols-3 gap-8">
          {products.map(product => (
            <ProductCard 
              name={product.data.name}
              description={product.data.description}
              image={product.data.image}
              category={product.data.category}
            />
          ))}
        </div>
        
        <div class="text-center mt-10">
          <a href="/productos" class="inline-flex items-center gap-3 bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 text-white font-bold text-lg px-10 py-4 rounded-full shadow-xl hover:shadow-primary-500/25 transform hover:scale-105 transition-all duration-300 border border-primary-400/20">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path>
            </svg>
            Ver Galer√≠a Completa
            <svg class="w-4 h-4 ml-1 transition-transform group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
            </svg>
          </a>
        </div>
      </div>
    </section>
    
    <!-- Call to Action -->
    <section class="py-20 bg-gradient-to-r from-dark-800 to-primary-800 text-white">
      <div class="container mx-auto px-4 text-center">
        <div class="max-w-3xl mx-auto">
          <h2 class="text-4xl font-bold mb-6 scroll-animate fade-up">
            ¬øListo para materializar su proyecto?
          </h2>
          <p class="text-xl mb-8 opacity-90 scroll-animate fade-up">
            Cont√°ctanos para una cotizaci√≥n gratuita y sin compromiso
          </p>
          <div class="flex flex-col sm:flex-row gap-4 justify-center items-center scroll-animate fade-up">
            <a href="/contacto" class="inline-flex items-center gap-3 bg-white text-dark-800 hover:bg-gray-100 font-bold text-lg px-10 py-4 rounded-full shadow-xl hover:shadow-white/25 transform hover:scale-105 transition-all duration-300 border border-gray-200">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
              </svg>
              Solicitar Cotizaci√≥n
            </a>
            <a href="/productos" class="inline-flex items-center gap-3 border-2 border-white bg-transparent text-white hover:bg-white hover:text-dark-800 font-bold text-lg px-10 py-4 rounded-full shadow-xl hover:shadow-white/25 transform hover:scale-105 transition-all duration-300">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
              </svg>
              Ver Proyectos
            </a>
          </div>
        </div>
      </div>
    </section>
  </main>
  
  <Footer />
  <Toast />
</Layout>