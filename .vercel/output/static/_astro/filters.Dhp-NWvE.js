class u{items=[];filteredItems=[];activeCategory="todos";searchTerm="";constructor(t){this.items=t,this.filteredItems=[...t]}setCategory(t){return this.activeCategory=t,this.applyFilters()}setSearchTerm(t){return this.searchTerm=t.toLowerCase(),this.applyFilters()}applyFilters(){let t=[...this.items];return this.activeCategory!=="todos"&&(t=t.filter(r=>r.category.toLowerCase()===this.activeCategory.toLowerCase())),this.searchTerm&&(t=t.filter(r=>["name","title","description","caption"].some(o=>r[o]?.toLowerCase().includes(this.searchTerm)))),this.filteredItems=t,t}getFilteredItems(){return this.filteredItems}getActiveCategory(){return this.activeCategory}getSearchTerm(){return this.searchTerm}getResultCount(){return this.filteredItems.length}}function h(a){if(typeof window>"u")return;const t=document.getElementById(a);if(!t)return;const r=t.querySelectorAll("[data-filter]"),l=t.querySelectorAll("[data-category]"),o=t.querySelector(".filter-counter"),c=s=>{r.forEach(e=>{e.classList.toggle("active",e.getAttribute("data-filter")===s)});let i=0;l.forEach(e=>{const n=e.getAttribute("data-category")||"";s==="todos"||n===s?(e.classList.remove("hidden","filtering-out"),e.classList.add("filtering-in"),i++):(e.classList.add("filtering-out"),setTimeout(()=>{e.classList.add("hidden"),e.classList.remove("filtering-in","filtering-out")},300))}),o&&(o.textContent=`${i} ${i===1?"resultado":"resultados"}`)};r.forEach(s=>{s.addEventListener("click",i=>{i.preventDefault();const e=s.getAttribute("data-filter")||"todos";c(e)})}),c("todos")}export{u as CategoryFilter,h as initCategoryFilters};
